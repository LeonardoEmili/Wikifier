        In  |vector_calculus|Vector_Calculus| , divergence is a  |vector_operator|Vector_Operator|  that operates on a  |vector_field|Vector_Field| , producing a  |scalar_field|Scalar_Field|  giving the quantity of the vector fields  |source|Current_Sources_And_Sinks|  at each point. More technically, the divergence represents the volume density of the outward  |flux|Flux|  of a vector field from an infinitesimal volume around a given point.     As an example, consider air as it is heated or cooled. The  |velocity|Velocity|  of the air at each point defines a vector field. While air is heated in a region, it expands in all directions, and thus the velocity field points outward from that region. The divergence of the velocity field in that region would thus have a positive value. While the air is cooled and thus contracting, the divergence of the velocity has a negative value.       In physical terms, the divergence of a vector field is the extent to which the vector field flux behaves like a source at a given point. It is a local measure of its outgoingness – the extent to which there is more of the field vectors exiting an infinitesimal region of space than entering it. A point at which the flux is outgoing has positive divergence, and is often called a source of the field. A point at which the flux is directed inward has negative divergence, and is often called a sink of the field. The greater the flux of field through a small surface enclosing a given point, the greater the value of divergence at that point. A point at which there is zero flux through an enclosing surface has zero divergence.     A vector field is often illustrated as a flow of something, and divergence is often explained using the example of the  |velocity_field|Velocity_Field|  of a fluid, a liquid or gas. If a gas is heated, it will expand. This will cause a net motion of gas particles outward in all directions. Any closed surface in the gas will enclose gas which is expanding, so there will be an outward flux of gas through the surface. So the velocity field will have positive divergence everywhere. Similarly, if the gas is cooled, it will contract. There will be more room for gas particles in any volume, so the external pressure of the fluid will cause a net flow of gas volume inward through any closed surface. Therefore the velocity field has negative divergence everywhere. In contrast in an unheated gas with a constant density, the gas may be moving, but the volume rate of gas flowing into any closed surface must equal the volume rate flowing out, so the net flux of fluid through any closed surface is zero. Thus the gas velocity has zero divergence everywhere. A field which has zero divergence everywhere is called  |solenoidal|Solenoidal_Vector_Field| .     If the fluid is heated only at one point or small region, or a small tube is introduced which supplies a source of additional fluid at one point, the fluid there will expand, pushing fluid particles around it outward in all directions. This will cause an outward velocity field throughout the fluid, centered on the heated point. Any closed surface enclosing the heated point will have a flux of fluid particles passing out of it, so there is positive divergence at that point. However any closed surface not enclosing the point will have a constant density of fluid inside, so just as many fluid particles are entering as leaving the volume, thus the net flux out of the volume is zero. Therefore the divergence at any other point is zero.            The divergence of a vector field  at a point  is defined as the  |limit|Limit|  of the ratio of the  |surface_integral|Surface_Integral|  of  out of the surface of a closed volume  enclosing  to the volume of , as  shrinks to zero   :   where  is the volume of ,  is the boundary of , and  is the outward  |unit_normal|Normal_Vector|  to that surface. It can be shown that the above limit always converges to the same value for any sequence of volumes that contain  and approach zero volume. The result, , is a scalar function of .     Since this definition is coordinate-free, it shows that the divergence is the same in any  |coordinate_system|Coordinate_System| . However it is not often used practically to calculate divergence; when the vector field is given in a coordinate system the coordinate definitions below are much simpler to use.     A vector field with zero divergence everywhere is called  solenoidal  – in which case any closed surface has no net flux across it.           In three-dimensional Cartesian coordinates, the divergence of a  |continuously_differentiable|Continuously_Differentiable| |vector_field|Vector_Field|    Fx  + Fy  + Fz  is defined as the  |scalar|Scalar| -valued function:     :                 Although expressed in terms of coordinates, the result is invariant under  |rotations|Rotation_Matrix| , as the physical interpretation suggests. This is because the trace of the  |Jacobian_matrix|Jacobian_Matrix_And_Determinant|  of an -dimensional vector field  in -dimensional space is invariant under any invertible linear transformation.     The common notation for the divergence  is a convenient mnemonic, where the dot denotes an operation reminiscent of the  |dot_product|Dot_Product|  operator , apply them to the corresponding components of , and sum the results. Because applying an operator is different from multiplying the components, this is considered an  |abuse_of_notation|Abuse_Of_Notation| .       For a vector expressed in local unit  |cylindrical_coordinates|Cylindrical_Coordinate_System|  as   :     Fr +   F  +   Fz,   where  is the unit vector in direction , the divergence is   :     F   F       +     +         The use of local coordinates is vital for the validity of the expression. If we consider  the position vector and the functions r ,   , and z , which assign the corresponding global cylindrical coordinate to a vector, in general r  Fr ,   F , and z  Fz . In particular, if we consider the identity function     , we find that:     :       F 0 .       In  |spherical_coordinates|Spherical_Coordinates| , with  the angle with the  axis and  the rotation around the  axis, and   again written in local unit coordinates, the divergence is   :     F     +     +           The divergence of a continuously differentiable second-order  |tensor_field|Tensor_Field|   defined as:     :         &   &         &   &         &   &           is a first-order tensor field:     :         +  +        +  +        +  +            Using  |Einstein_notation|Einstein_Notation|  we can consider the divergence in  |general_coordinates|Curvilinearcoordinates| , which we write as , where  is the number of dimensions of the domain. Here, the upper index refers to the number of the coordinate or component, so  refers to the second component, and not the quantity  squared. The index variable  is used to refer to an arbitrary element, such as . The divergence can then be written via the - |Weyl|Hermannweyl|  formula  , as:     :           where   is the local coefficient of the  |volume_element|Volume_Element|  and  are the components of  with respect to the local unnormalized  |covariant_basis|Curvilinearcoordinatescovariant_And_Contravariant_Bases|  . The Einstein notation implies summation over , since it appears as both an upper and lower index.     The volume coefficient   is a function of position which depends on the coordinate system. In Cartesian, cylindrical and spherical coordinates, using the same conventions as before, we have   ,   and   , respectively. It can also be expressed as   , where g is the  |metric_tensor|Metric_Tensor| . Since the determinant is a scalar quantity which doesnt depend on the indices, we can suppress them and simply write   . Another expression comes from computing the determinant of the Jacobian for transforming from Cartesian coordinates, which for  gives          Some conventions expect all local basis elements to be normalized to unit length, as was done in the previous sections. If we write   for the normalized basis, and   for the components of  with respect to it, we have that   :       Fi     Fi             using one of the properties of the metric tensor. By dotting both sides of the last equality with the contravariant element   , we can conclude that Fi   /   . After substituting, the formula becomes:     :               .     See  for further discussion.          It can be shown that any stationary flux  that is at least twice continuously differentiable in  and vanishes sufficiently fast for  can be decomposed into an irrotational part  and a source-free part . Moreover, these parts are explicitly determined by the respective source densities and circulation densities , can be similarly written: one only has to replace the scalar potential  by a vector potential  and the terms  by , and the source density    by the circulation density .     This decomposition theorem is a by-product of the stationary case of  |electrodynamics|Electrodynamics| . It is a special case of the more general  |Helmholtz_decomposition|Helmholtz_Decomposition|  which works in dimensions greater than three as well.            The following properties can all be derived from the ordinary differentiation rules of  |calculus|Calculus| . Most importantly, the divergence is a  |linear_operator|Linear_Operator| , i.e.,     :   a     + b         for all vector fields  and  and all  |real_numbers|Real_Number|   and .     There is a  |product_rule|Product_Rule|  of the following type: if  is a scalar-valued function and  is a vector field, then     :           +           or in more suggestive notation     :       +   .     Another product rule for the  |cross_product|Cross_Product|  of two vector fields  and  in three dimensions involves the  |curl|Curl|  and reads as follows:     :         -             or     :     -       The  |Laplacian|Laplacian|  of a  |scalar_field|Scalar_Field|  is the divergence of the fields  |gradient|Gradient| |curl|Curl|  of any vector field is equal to zero:   :       If a vector field  with zero divergence is defined on a ball in , then there exists some vector field  on the ball with . For regions in  more topologically complicated than this, the latter statement might be false . The degree of failure of the truth of the statement, measured by the  |homology|Homology|  of the  |chain_complex|Chain_Complex|      :   ~   ~   ~   ~   ~   ~       serves as a nice quantification of the complicatedness of the underlying region . These are the beginnings and main motivations of  |de_Rham_cohomology|De_Rham_Cohomology| .       One can express the divergence as a particular case of the exterior derivative, which takes a 2-form to a 3-form in . Define the current two-form as   : j F1   dy   dz + F2   dz   dx + F3   dx   dy .   It measures the amount of stuff flowing through a surface per unit time in a stuff fluid of density  moving with local velocity . Its  |exterior_derivative|Exterior_Derivative|   is then given by   : dj   dx   dy   dz   .     Thus, the divergence of the vector field  can be expressed as:   :     d   .   Here the superscript  is one of the two  |musical_isomorphisms|Musical_Isomorphism| , and  is the  |Hodge_star_operator|Hodge_Star_Operator| . Working with the current two-form and the exterior derivative is usually easier than working with the vector field and divergence, because unlike the divergence, the exterior derivative commutes with a change of coordinate system.         The divergence of a vector field can be defined in any number of dimensions. If   :   ,     in a Euclidean coordinate system with coordinates , define     :         +   +   +     The appropriate expression is more complicated in  |curvilinear_coordinates|Curvilinear_Coordinatesgrad,_Curl,_Div,_Laplacian| .     In the case of one dimension,  reduces to a regular function, and the divergence reduces to the derivative.     For any , the divergence is a linear operator, and it satisfies the product rule     :       +       for any scalar-valued function .     The divergence of a vector field extends naturally to any  |differentiable_manifold|Differentiable_Manifold|  of dimension  that has a  |volume_form|Volume_Form|   , e.g. a  |Riemannian|Riemannian_Manifold|  or  |Lorentzian_manifold|Lorentzian_Manifold| . Generalising the construction of a two-form for a vector field on , on such a manifold a vector field  defines an -form  obtained by contracting  with . The divergence is then the function defined by     : dj   .     Standard formulas for the  |Lie_derivative|Lie_Derivative|  allow us to reformulate this as     : X     .     This means that the divergence measures the rate of expansion of a volume element as we let it flow with the vector field.     On a  |pseudo-Riemannian_manifold|Pseudo-Riemannian_Manifold| , the divergence with respect to the metric volume form can be computed in terms of the  |Levi-Civita_connection|Levi-Civita_Connection|   with itself and the last expression is the traditional coordinate expression from  |Ricci_calculus|Ricci_Calculus| .     An equivalent expression without using connection is     :             where  is the metric and  denotes the partial derivative with respect to coordinate .     Divergence can also be generalised to  |tensors|Tensors| . In  |Einstein_notation|Einstein_Notation| , the divergence of a  |contravariant_vector|Contravariant_Vector|   is given by     :         F  ,     where  denotes the  |covariant_derivative|Covariant_Derivative| .     Equivalently, some authors define the divergence of a  |mixed_tensor|Mixed_Tensor|  by using the  |musical_isomorphism|Musical_Isomorphism|   is a - |tensor|Tensor|  , then we define the divergence of  to be the -tensor     :       that is, we take the trace over the first two covariant indices of the covariant derivative      .