The Motorola 68040  is a  |32-bit|32-Bit| |microprocessor|Microprocessor|  from  |Motorola|Motorola| , released in 1990. It is the successor to the  |68030|Motorola_68030|  and is followed by the  |68060|Motorola_68060| . There was no 68050. In keeping with general Motorola naming, the 68040 is often referred to as simply the 040 .     In  |Apple_Macintosh|Macintosh|  computers, the 68040 was introduced in the  |Macintosh_Quadra|Macintosh_Quadra| , which was named for the chip. The fastest 68040 processor was clocked at 40  MHz and it was used only in the Quadra 840AV. The more expensive models in the  |Macintosh_Centris|Macintosh_Centris|  line also used the 68040, while the cheaper Quadra, Centris and  |Macintosh_Performa|Macintosh_Performa|  used the  |68LC040|Motorola_68Lc040| . The 68040 was also used in other  |personal_computers|Personal_Computer| , such as the  |Amiga_4000|Amiga_4000|  and  |Amiga_4000T|Amiga_4000T| , as well as a number of  |workstations|Workstation| ,  |Alpha_Microsystems|Alpha_Microsystems|  servers, the  |HP_9000|Hp_9000| /400 series, and later versions of the  |NeXT|Next|  computer.     The 68040 was the first  |680x0_family|Motorola_68000_Family|  member with an on-chip  |Floating-Point_Unit|Floating-Point_Unit|  . It thus included all of the functionality that previously required external chips, namely the FPU and  |Memory_Management_Unit|Memory_Management_Unit|  , which was added in the 68030. It also had split instruction and data caches of 4  |kilobytes|Kilobyte|  each. It was fully  |pipelined|Instruction_Pipeline| , with six stages.     Unfortunately, the 68040 ran into the transistor budget limit early in design. While the MMU did not take many transistors—indeed, having it on the same die as the CPU actually saved on transistors—the FPU certainly did. Motorolas  |68882|Motorola_68881|  external FPU was known as a very high performance unit and Motorola did not wish to risk integrators using the LC version with a 68882 instead of the more profitable full RC unit.  The FPU in the 68040 was thus made incapable of IEEE  |transcendental_functions|Transcendental_Function| , which had been supported by both the 68881 and 68882 and were used by the popular fractal generating software of the time and little else. The Motorola floating point support package emulated these instructions in software under interrupt. As this was an exception handler, heavy use of the transcendental functions caused severe performance penalties.     Heat was always a problem throughout the 68040s life. While it delivered over four times the per-clock performance of the 68020 and 68030, the chips complexity and power requirements came from a large die and large caches. This affected the scaling of the processor and it was never able to run with a clock rate exceeding 40  MHz. A 50  MHz variant was planned, but canceled.  |Overclocking|Overclocking|  enthusiasts reported success reaching 50  MHz using a 100  MHz oscillator instead of an 80  MHz part and the then novel technique of adding oversized heat sinks with fans.     The 68040 offered the same features as the  |Intel_80486|Intel_80486| , but on a clock-for-clock basis could significantly outperform the Intel chip in integer and floating point instructions.    However, the 80486 had the ability to be clocked significantly faster without suffering from overheating problems. In late 1991, as the higher-end Macintosh desktop lineup transitioned to the 040, Apple was unable to offer the newer processor in their top-of-the-line  |PowerBooks|Powerbook|  until early 1994. With PowerBooks being restricted to 68030s for several years,  Macworld  reviewers conceded that the best choice for power users was the PC-compatible  |Texas_Instruments|Texas_Instruments|  80486 notebook, rather than the top-of-the-line PowerBook 180.     Versions of the 68040 were created for specific market segments, including the  |68LC040|Motorola_6804068Lc040| , which removed the FPU, and the  |68EC040|Motorola_6804068Ec040| , which removed both the FPU and MMU. Motorola had intended the EC variant for embedded use, but embedded processors during the 68040s time did not need the power of the 68040, so EC variants of the 68020 and 68030 continued to be common in designs.     Motorola produced several speed grades. The 16  MHz and 20  MHz parts were never qualified and used as prototyping samples. 25  MHz and 33  MHz grades featured across the whole line, but until around 2000 the 40  MHz grade was only for the full 68040. A planned 50  MHz grade was canceled after it exceeded the  |thermal_design_envelope|Thermal_Design_Power| .     For more information on the instructions and architecture, see  |Motorola_68000|Motorola_68000| .         The 68EC040 is a version of the Motorola 68040 microprocessor, intended for embedded controllers . It differs from the 68040 in that it has neither an FPU nor an MMU. This makes it less expensive and it draws less power. The 68EC040 was used in Cisco switch  |Supervisor_Engine_I|Supervisor_Engine|  that is the heart of models 2900, 2948G, 2980G, 4000, 4500, 5000, 5500, 6000, 6500 and 7600.          The 68LC040 is a low cost version of the Motorola 68040  |microprocessor|Microprocessor|  with no FPU. This makes it less expensive and it draws less power. Although the CPU now fits into a feature chart more like the Motorola 68030, it continues to include the 68040s  |caches|Cpu_Cache|  and  |pipeline|Pipeline|  and is thus significantly faster than the 68030.     Some  |mask|Mask|  revisions of the 68LC040 contained a  |bug|Software_Bug|  that prevents the chip from operating correctly when a software FPU  |emulator|Emulator|  is used. According to Motorolas errata,  any chip with a mask set 2E71M or later does not contain the bug. This new mask was introduced in mid-1995 and converted the 68LC040 chip to MC status.      The buggy revisions are typically found in 68LC040-based  |Apple_Macintosh|Apple_Macintosh|  computers. Chips with mask set 2E23G have been confirmed to be faulty. The fault relates to pending writes being lost when the F-line exception is triggered.  The 68040 cannot update its microcode in the manner of modern x86 chips. This means that the only way to use software that requires floating-point functionality is to replace the buggy 68LC040 with a later revision, or a full 68040.              